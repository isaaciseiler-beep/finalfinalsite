@import url('https://api.fontshare.com/v2/css?f[]=switzer@400,500,600,700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

:root { color-scheme: dark; }

html, body { @apply bg-bg text-fg antialiased font-sans; }

* { scrollbar-width: thin; scrollbar-color: #333 #111; }
::-webkit-scrollbar { width: 8px; height: 8px; }
::-webkit-scrollbar-track { background: #111; }
::-webkit-scrollbar-thumb { background: #333; border-radius: 8px; }

:focus-visible { outline: none; box-shadow: 0 0 0 2px #fff, 0 0 0 4px #000; }
a { @apply underline-offset-4 hover:underline; }

/* never underline the contact tiles (global <a> rule would otherwise force underline) */
a.contact-tile,
a.contact-tile:hover {
  text-decoration: none !important;
}

.card { @apply rounded-2xl border border-border bg-black/40 shadow-subtle; }
.hr { @apply border-t border-border; }

/* type rhythm using Switzer */
h1 { @apply tracking-tight text-[clamp(28px,6vw,48px)] font-semibold leading-[1.02]; }
h2 { @apply tracking-tight text-[clamp(20px,3.5vw,28px)] font-medium; }
p, li { @apply tracking-tight; }

/* ----------------------------------------------
   contact page: refined plates + idle-still gel blobs
   ---------------------------------------------- */

.contact-tile {
  display: block;

  /* pointer-driven vars */
  --mx: 0px;
  --my: 0px;
  --hx: 0px;
  --hy: 0px;
  --rx: 0deg;
  --ry: 0deg;

  /* blob */
  --blob: #ffffff;
  --blob-rgb: 255 255 255;

  /* per-tile wave paths */
  --waveA-x0: -22%;
  --waveA-y0: 0%;
  --waveA-x1: 30%;
  --waveA-y1: 0%;

  --waveB-x0: 18%;
  --waveB-y0: -8%;
  --waveB-x1: -14%;
  --waveB-y1: 8%;

  --waveA-dur: 15.2s;
  --waveB-dur: 18.1s;
  --pulse-dur: 12.8s;
  --waveA-delay: 0s;
  --waveB-delay: 0s;
  --pulse-delay: 0s;

  position: relative;
  isolation: isolate;
  overflow: hidden;
  cursor: pointer;

  border-radius: 28px;
  transition: transform 160ms ease, background 240ms ease, border-color 240ms ease;

  /* underlay so there is never a hard black gap */
  background:
    radial-gradient(120% 140% at 50% 15%, rgba(255,255,255,0.04), transparent 70%),
    radial-gradient(180% 220% at 80% 110%, rgba(255,255,255,0.02), transparent 70%),
    #050505;

  border: 1px solid rgba(255,255,255,0.06);
  box-shadow: 0 0 26px rgba(0,0,0,0.45);
}

.contact-tile:active { transform: scale(0.985); }

.contact-tile--square {
  width: min(56vmin, 560px);
  height: min(56vmin, 560px);
}

@media (min-width: 768px) {
  .contact-tile--square {
    width: min(46vmin, 560px);
    height: min(46vmin, 560px);
  }
}

/* desync + different wave paths per tile */
.contact-tile[data-seed="connect"] {
  --waveA-x0: -26%;
  --waveA-y0: 2%;
  --waveA-x1: 28%;
  --waveA-y1: -1%;

  --waveB-x0: 14%;
  --waveB-y0: -10%;
  --waveB-x1: -16%;
  --waveB-y1: 10%;

  --waveA-dur: 16.1s;
  --waveB-dur: 19.4s;
  --pulse-dur: 13.4s;

  --waveA-delay: -3.1s;
  --waveB-delay: -7.7s;
  --pulse-delay: -4.2s;
}

.contact-tile[data-seed="email"] {
  --waveA-x0: -12%;
  --waveA-y0: -10%;
  --waveA-x1: 24%;
  --waveA-y1: 12%;

  --waveB-x0: 22%;
  --waveB-y0: -2%;
  --waveB-x1: -8%;
  --waveB-y1: 10%;

  --waveA-dur: 14.6s;
  --waveB-dur: 17.3s;
  --pulse-dur: 12.1s;

  --waveA-delay: -8.3s;
  --waveB-delay: -2.9s;
  --pulse-delay: -6.0s;
}

/* on hover, tint the underlay slightly toward the blob color (prevents “hard black border” feel) */
.contact-tile:hover {
  border-color: rgba(255,255,255,0.08);
  background:
    radial-gradient(120% 140% at 50% 18%, rgba(255,255,255,0.045), transparent 70%),
    radial-gradient(120% 140% at 50% 55%, rgba(var(--blob-rgb) / 0.10), transparent 72%),
    #050505;
}

/* plate (smooth + heavy blur layers to avoid banding) */
.contact-tile__plate {
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
  z-index: 0;

  background:
    radial-gradient(160% 220% at 20% 22%, rgba(255,255,255,0.06), rgba(255,255,255,0.0) 78%),
    radial-gradient(240% 260% at 82% 112%, rgba(255,255,255,0.03), rgba(255,255,255,0.0) 74%),
    linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.0) 70%);

  box-shadow:
    inset 0 0 0 1px rgba(255,255,255,0.04),
    inset 0 -30px 90px rgba(0,0,0,0.58);

  opacity: 1;
  transform: translate3d(0,0,0);
  transition: opacity 220ms ease, transform 520ms cubic-bezier(0.2, 0.9, 0.2, 1.1);
}

.contact-tile__plate::before,
.contact-tile__plate::after {
  content: "";
  position: absolute;
  inset: -22%;
  border-radius: inherit;
  pointer-events: none;
  will-change: transform, opacity;
  mix-blend-mode: screen;
}

.contact-tile__plate::before {
  background: radial-gradient(170% 240% at 0% 62%, rgba(255,255,255,0.085), rgba(255,255,255,0.0) 78%);
  filter: blur(34px);
  opacity: 0.58;
  transform: translate3d(var(--waveA-x0), var(--waveA-y0), 0);
  animation:
    contactWaveA var(--waveA-dur) ease-in-out var(--waveA-delay) infinite alternate,
    contactPulse var(--pulse-dur) ease-in-out var(--pulse-delay) infinite;
}

.contact-tile__plate::after {
  background: radial-gradient(160% 230% at 100% 40%, rgba(255,255,255,0.075), rgba(255,255,255,0.0) 80%);
  filter: blur(36px);
  opacity: 0.52;
  transform: translate3d(var(--waveB-x0), var(--waveB-y0), 0);
  animation:
    contactWaveB var(--waveB-dur) ease-in-out var(--waveB-delay) infinite alternate,
    contactPulse calc(var(--pulse-dur) + 1.1s) ease-in-out calc(var(--pulse-delay) - 0.9s) infinite;
}

.contact-tile:hover .contact-tile__plate {
  opacity: 0; /* full swap: no square visible */
  transform: translate3d(0, 10px, 0) scale(0.985);
}

@keyframes contactWaveA {
  from { transform: translate3d(var(--waveA-x0), var(--waveA-y0), 0); }
  to   { transform: translate3d(var(--waveA-x1), var(--waveA-y1), 0); }
}

@keyframes contactWaveB {
  from { transform: translate3d(var(--waveB-x0), var(--waveB-y0), 0); }
  to   { transform: translate3d(var(--waveB-x1), var(--waveB-y1), 0); }
}

@keyframes contactPulse {
  0%, 100% { opacity: 0.48; }
  50%      { opacity: 0.86; }
}

/* blob */
.contact-tile__blobCenter {
  position: absolute;
  inset: 0;
  display: grid;
  place-items: center;
  pointer-events: none;
  z-index: 1;

  opacity: 0;
  transform: translate3d(var(--mx), var(--my), 0) scale(0.86);
  transition: opacity 220ms ease, transform 160ms ease;
  will-change: transform, opacity;

  filter: drop-shadow(0 34px 82px rgba(0, 0, 0, 0.72));
}

/* soft halo so the blob never feels like it’s “hitting” a black edge */
.contact-tile__blobCenter::before {
  content: "";
  position: absolute;
  inset: -18%;
  border-radius: 9999px;
  background: radial-gradient(circle at 50% 50%, rgba(var(--blob-rgb) / 0.26), rgba(var(--blob-rgb) / 0.0) 68%);
  filter: blur(46px);
  opacity: 0.85;
  transform: translate3d(0,0,0);
}

.contact-tile:hover .contact-tile__blobCenter {
  opacity: 1;
  transform: translate3d(var(--mx), var(--my), 0) scale(1);
}

.contact-tile__blobTilt {
  width: 86%;
  height: 86%;
  display: block;
  transform: rotateX(var(--rx)) rotateY(var(--ry));
  transform-style: preserve-3d;
  transition: transform 140ms ease; /* no inertia-y drifting */
}

/* translucent gel */
.contact-tile__blob {
  display: block;
  position: relative;
  width: 100%;
  height: 100%;

  /* less uniform silhouette by default */
  border-radius: 54% 46% 58% 42% / 46% 58% 42% 54%;

  background:
    radial-gradient(140% 140% at calc(32% + var(--hx)) calc(22% + var(--hy)),
      rgba(255,255,255,0.55) 0%,
      rgba(255,255,255,0.10) 32%,
      rgba(255,255,255,0.0) 62%),
    radial-gradient(170% 170% at calc(74% - var(--hx)) calc(84% - var(--hy)),
      rgba(0,0,0,0.42) 0%,
      rgba(0,0,0,0.14) 36%,
      rgba(0,0,0,0.0) 70%),
    rgba(var(--blob-rgb) / 0.72);

  box-shadow:
    inset 0 0 0 1px rgba(255,255,255,0.14),
    inset 0 -48px 140px rgba(0,0,0,0.24);

  -webkit-backdrop-filter: blur(14px) saturate(1.2);
  backdrop-filter: blur(14px) saturate(1.2);

  filter: saturate(1.06) contrast(1.04);

  /* key: paused by default, runs only while mouse is moving (data-jiggle) */
  animation:
    contactBlobEdge 6.6s ease-in-out infinite,
    contactBlobWobble 1.05s ease-in-out infinite;
  animation-play-state: paused;

  will-change: border-radius, transform;
}

/* only animate while actively moving the mouse */
.contact-tile[data-jiggle="1"] .contact-tile__blob {
  animation-play-state: running;
}

.contact-tile__shine {
  position: absolute;
  inset: -10px;
  border-radius: inherit;
  background: radial-gradient(
    circle at calc(36% + var(--hx)) calc(28% + var(--hy)),
    rgba(255,255,255,0.70) 0%,
    rgba(255,255,255,0.18) 22%,
    rgba(255,255,255,0.0) 62%
  );
  opacity: 0.42;
  filter: blur(10px);
  mix-blend-mode: screen;
  pointer-events: none;
}

.contact-tile__rim {
  position: absolute;
  inset: 0;
  border-radius: inherit;
  box-shadow:
    inset 0 0 0 1px rgba(255,255,255,0.14),
    inset 0 22px 70px rgba(255,255,255,0.05);
  opacity: 0.9;
  pointer-events: none;
}

/* labels */
.contact-tile__plateLabel,
.contact-tile__blobLabel {
  font-weight: 400; /* not bold */
  letter-spacing: -0.045em;
  font-size: clamp(44px, 7vw, 88px);
  line-height: 1;
}

/* plate label (clean, fades out) */
.contact-tile__plateLabel {
  position: relative;
  z-index: 2;
  width: 100%;
  height: 100%;
  display: grid;
  place-items: center;
  color: rgba(255,255,255,0.88);
  transition: opacity 160ms ease, transform 200ms ease;
}

.contact-tile:hover .contact-tile__plateLabel {
  opacity: 0;
  transform: translate3d(0, 6px, 0);
}

/* blob label: inside gel, subtly blended, moves with blob (no extra jiggle animation) */
.contact-tile__blobLabel {
  position: absolute;
  inset: 0;
  display: grid;
  place-items: center;
  pointer-events: none;

  opacity: 0;
  transform: translate3d(calc(var(--mx) * 0.02), calc(var(--my) * 0.02), 0);
  transition: opacity 140ms ease;

  /* modern: no heavy shadows */
  text-rendering: geometricPrecision;
}

.contact-tile:hover .contact-tile__blobLabel {
  opacity: 1;
}

/* per-tile ink look (less tacky than gradient-clip) */
.contact-tile[data-seed="connect"] .contact-tile__blobLabel {
  color: rgba(255,255,255,0.84);
  mix-blend-mode: soft-light;
}

.contact-tile[data-seed="email"] .contact-tile__blobLabel {
  color: rgba(16,16,20,0.70);
  mix-blend-mode: multiply;
}

@keyframes contactBlobEdge {
  0%, 100% { border-radius: 54% 46% 58% 42% / 46% 58% 42% 54%; }
  18%      { border-radius: 61% 39% 52% 48% / 50% 64% 36% 50%; }
  44%      { border-radius: 44% 56% 46% 54% / 60% 42% 58% 40%; }
  70%      { border-radius: 58% 42% 64% 36% / 40% 58% 42% 60%; }
}

@keyframes contactBlobWobble {
  0%, 100% { transform: rotate(0deg) scale(1); }
  40%      { transform: rotate(0.55deg) scale(1.012, 0.995); }
  80%      { transform: rotate(-0.45deg) scale(0.995, 1.015); }
}

@media (prefers-reduced-motion: reduce) {
  .contact-tile__plate,
  .contact-tile__plate::before,
  .contact-tile__plate::after,
  .contact-tile__blobCenter,
  .contact-tile__blobTilt {
    transition: none !important;
    animation: none !important;
  }
  .contact-tile__blob {
    animation: none !important;
  }
}
