@import url('https://api.fontshare.com/v2/css?f[]=switzer@400,500,600,700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

:root { color-scheme: dark; }

html, body { @apply bg-bg text-fg antialiased font-sans; }

* { scrollbar-width: thin; scrollbar-color: #333 #111; }
::-webkit-scrollbar { width: 8px; height: 8px; }
::-webkit-scrollbar-track { background: #111; }
::-webkit-scrollbar-thumb { background: #333; border-radius: 8px; }

:focus-visible { outline: none; box-shadow: 0 0 0 2px #fff, 0 0 0 4px #000; }
a { @apply underline-offset-4 hover:underline; }

/* never underline the contact tiles (global <a> rule would otherwise force underline) */
a.contact-tile,
a.contact-tile:hover {
  text-decoration: none !important;
}

.card { @apply rounded-2xl border border-border bg-black/40 shadow-subtle; }
.hr { @apply border-t border-border; }

/* type rhythm using Switzer */
h1 { @apply tracking-tight text-[clamp(28px,6vw,48px)] font-semibold leading-[1.02]; }
h2 { @apply tracking-tight text-[clamp(20px,3.5vw,28px)] font-medium; }
p, li { @apply tracking-tight; }

/* ----------------------------------------------
   contact page: smooth plates -> full blob swap
   ---------------------------------------------- */

.contact-tile {
  /* pointer-driven vars */
  --mx: 0px;
  --my: 0px;
  --hx: 0px;
  --hy: 0px;
  --rx: 0deg;
  --ry: 0deg;

  /* blob + ink */
  --blob: #ffffff;
  --ink: rgba(255,255,255,0.92);
  --inkHi: rgba(255,255,255,0.92);
  --inkLo: rgba(0,0,0,0.28);

  /* per-tile gradient bias */
  --plate-x: 0%;
  --plate-y: 0%;

  /* per-tile wave timing (desync via negative delays) */
  --waveA-dur: 14.8s;
  --waveB-dur: 17.6s;
  --pulse-dur: 12.9s;

  --waveA-delay: 0s;
  --waveB-delay: 0s;
  --pulse-delay: 0s;

  position: relative;
  isolation: isolate;
  overflow: hidden;
  cursor: pointer;

  border-radius: 28px;
  background: transparent;
  transition: transform 160ms ease;
}

.contact-tile:active { transform: scale(0.985); }

.contact-tile--square {
  width: min(56vmin, 560px);
  height: min(56vmin, 560px);
}

@media (min-width: 768px) {
  .contact-tile--square {
    width: min(46vmin, 560px);
    height: min(46vmin, 560px);
  }
}

/* different “seeds” so gradients + timing differ between tiles */
.contact-tile[data-seed="connect"] {
  --plate-x: -10%;
  --plate-y: 5%;

  --waveA-dur: 15.4s;
  --waveB-dur: 18.6s;
  --pulse-dur: 13.6s;

  --waveA-delay: -2.7s;
  --waveB-delay: -6.1s;
  --pulse-delay: -3.4s;

  --ink: rgba(255,255,255,0.92);
  --inkHi: rgba(255,255,255,0.94);
  --inkLo: rgba(0,0,0,0.30);
}

.contact-tile[data-seed="email"] {
  --plate-x: 8%;
  --plate-y: -3%;

  --waveA-dur: 14.2s;
  --waveB-dur: 17.2s;
  --pulse-dur: 12.2s;

  --waveA-delay: -7.3s;
  --waveB-delay: -3.9s;
  --pulse-delay: -5.2s;

  --ink: rgba(10,10,12,0.78);
  --inkHi: rgba(255,255,255,0.28);
  --inkLo: rgba(0,0,0,0.46);
}

/* plate = smoother dynamic gradient (avoid hard stops) */
.contact-tile__plate {
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
  z-index: 0;

  background:
    radial-gradient(
      160% 220% at calc(18% + var(--plate-x)) calc(22% + var(--plate-y)),
      rgba(255,255,255,0.085) 0%,
      rgba(255,255,255,0.045) 34%,
      rgba(255,255,255,0.018) 52%,
      rgba(255,255,255,0.0) 78%
    ),
    radial-gradient(
      220% 260% at calc(82% - var(--plate-x)) calc(112% - var(--plate-y)),
      rgba(255,255,255,0.040) 0%,
      rgba(255,255,255,0.020) 42%,
      rgba(255,255,255,0.0) 74%
    ),
    linear-gradient(
      180deg,
      rgba(255,255,255,0.028) 0%,
      rgba(0,0,0,0.0) 72%
    ),
    #050505;

  box-shadow:
    inset 0 0 0 1px rgba(255,255,255,0.050),
    inset 0 -30px 90px rgba(0,0,0,0.58),
    0 0 26px rgba(0,0,0,0.45);

  opacity: 1;
  transform: translate3d(0,0,0);
  transition:
    opacity 220ms ease,
    transform 520ms cubic-bezier(0.2, 0.9, 0.2, 1.1);
}

.contact-tile__plate::before,
.contact-tile__plate::after {
  content: "";
  position: absolute;
  inset: -18%;
  border-radius: inherit;
  pointer-events: none;
  will-change: transform, opacity;
  mix-blend-mode: screen;
}

/* wave layer a */
.contact-tile__plate::before {
  background: radial-gradient(
    170% 240% at 0% 62%,
    rgba(255,255,255,0.090) 0%,
    rgba(255,255,255,0.050) 36%,
    rgba(255,255,255,0.018) 56%,
    rgba(255,255,255,0.0) 80%
  );
  filter: blur(26px);
  opacity: 0.62;
  transform: translate3d(-22%, 0, 0);
  animation:
    contactWaveA var(--waveA-dur) ease-in-out var(--waveA-delay) infinite alternate,
    contactPulse var(--pulse-dur) ease-in-out var(--pulse-delay) infinite;
}

/* wave layer b */
.contact-tile__plate::after {
  background: radial-gradient(
    160% 230% at 100% 40%,
    rgba(255,255,255,0.075) 0%,
    rgba(255,255,255,0.040) 34%,
    rgba(255,255,255,0.015) 56%,
    rgba(255,255,255,0.0) 80%
  );
  filter: blur(28px);
  opacity: 0.55;
  transform: translate3d(18%, -8%, 0);
  animation:
    contactWaveB var(--waveB-dur) ease-in-out var(--waveB-delay) infinite alternate,
    contactPulse calc(var(--pulse-dur) + 1.3s) ease-in-out calc(var(--pulse-delay) - 1.1s) infinite;
}

/* full swap: hide plate completely on hover */
.contact-tile:hover .contact-tile__plate {
  opacity: 0;
  transform: translate3d(0, 10px, 0) scale(0.985);
}

@keyframes contactWaveA {
  from { transform: translate3d(-22%, 0, 0); }
  to   { transform: translate3d(30%, 0, 0); }
}

@keyframes contactWaveB {
  from { transform: translate3d(18%, -8%, 0); }
  to   { transform: translate3d(-14%, 8%, 0); }
}

@keyframes contactPulse {
  0%, 100% { opacity: 0.48; }
  50%      { opacity: 0.86; }
}

/* blob layer (appears on hover) */
.contact-tile__blobCenter {
  position: absolute;
  inset: 0;
  display: grid;
  place-items: center;
  pointer-events: none;
  z-index: 1;

  opacity: 0;
  transform: translate3d(var(--mx), var(--my), 0) scale(0.78);
  transition:
    opacity 220ms ease,
    transform 180ms cubic-bezier(0.2, 0.9, 0.2, 1.35);

  filter: drop-shadow(0 34px 82px rgba(0, 0, 0, 0.72));
}

.contact-tile:hover .contact-tile__blobCenter {
  opacity: 1;
  transform: translate3d(var(--mx), var(--my), 0) scale(1.02);
}

.contact-tile:active .contact-tile__blobCenter {
  transform: translate3d(var(--mx), var(--my), 0) scale(0.985);
}

.contact-tile__blobTilt {
  width: 92%;
  height: 92%;
  display: block;
  transform: rotateX(var(--rx)) rotateY(var(--ry));
  transform-style: preserve-3d;
  transition: transform 180ms cubic-bezier(0.2, 0.9, 0.2, 1.35);
}

.contact-tile__blob {
  position: relative;
  width: 100%;
  height: 100%;

  /* more 3d + less uniform silhouette */
  background:
    radial-gradient(
      140% 140% at calc(30% + var(--hx)) calc(22% + var(--hy)),
      rgba(255,255,255,0.62) 0%,
      rgba(255,255,255,0.18) 28%,
      rgba(255,255,255,0.0) 58%
    ),
    radial-gradient(
      170% 170% at calc(72% - var(--hx)) calc(84% - var(--hy)),
      rgba(0,0,0,0.46) 0%,
      rgba(0,0,0,0.18) 30%,
      rgba(0,0,0,0.0) 68%
    ),
    radial-gradient(
      240% 150% at 50% 118%,
      rgba(255,255,255,0.16) 0%,
      rgba(255,255,255,0.0) 64%
    ),
    var(--blob);

  border-radius: 50%;
  box-shadow:
    inset 0 0 0 1px rgba(255,255,255,0.18),
    inset 0 -48px 140px rgba(0,0,0,0.34);

  filter: saturate(1.08) contrast(1.06);

  animation:
    contactBlobEdge 6.9s ease-in-out infinite,
    contactBlobWobble 1.18s ease-in-out infinite;

  will-change: border-radius, transform;
}

.contact-tile__shine {
  position: absolute;
  inset: -6px;
  border-radius: inherit;
  background:
    radial-gradient(
      circle at calc(34% + var(--hx)) calc(26% + var(--hy)),
      rgba(255,255,255,0.95) 0%,
      rgba(255,255,255,0.20) 22%,
      rgba(255,255,255,0.0) 62%
    );
  opacity: 0.55;
  filter: blur(8px);
  mix-blend-mode: screen;
  pointer-events: none;
}

.contact-tile__rim {
  position: absolute;
  inset: 0;
  border-radius: inherit;
  box-shadow:
    inset 0 0 0 1px rgba(255,255,255,0.18),
    inset 0 22px 70px rgba(255,255,255,0.06);
  opacity: 0.95;
  pointer-events: none;
}

/* printed-on-blob label (moves with blob + additional ink jiggle) */
.contact-tile__blobLabel {
  position: absolute;
  inset: 0;
  display: grid;
  place-items: center;
  pointer-events: none;

  font-weight: 500;
  letter-spacing: -0.03em;
  font-size: clamp(44px, 7vw, 88px);
  line-height: 1;

  opacity: 0;
  transform: translate3d(calc(var(--mx) * 0.04), calc(var(--my) * 0.04), 0) translateZ(0.1px);
  transition: opacity 160ms ease, transform 200ms ease;

  /* “printed” look: shade ink using cursor-driven highlight, clipped to text */
  background: radial-gradient(
    140% 140% at calc(42% + var(--hx)) calc(34% + var(--hy)),
    var(--inkHi) 0%,
    var(--ink) 44%,
    var(--inkLo) 100%
  );
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;

  filter:
    drop-shadow(0 1px 0 rgba(255,255,255,0.10))
    drop-shadow(0 -1px 0 rgba(0,0,0,0.26));
}

.contact-tile:hover .contact-tile__blobLabel {
  opacity: 1;
  transform: translate3d(calc(var(--mx) * 0.05), calc(var(--my) * 0.05), 0) translateZ(0.1px);
  animation: contactInkJiggle 1.18s ease-in-out infinite;
}

/* plate label (fades out on hover) */
.contact-tile__plateLabel {
  position: relative;
  z-index: 2;
  width: 100%;
  height: 100%;
  display: grid;
  place-items: center;

  font-weight: 500;
  letter-spacing: -0.03em;
  font-size: clamp(44px, 7vw, 88px);
  line-height: 1;

  color: rgba(255,255,255,0.92);
  transition: opacity 160ms ease, transform 220ms ease;
}

.contact-tile:hover .contact-tile__plateLabel {
  opacity: 0;
  transform: translate3d(0, 8px, 0) scale(0.99);
}

@keyframes contactBlobEdge {
  0%, 100% { border-radius: 54% 46% 58% 42% / 46% 58% 42% 54%; }
  16%      { border-radius: 62% 38% 52% 48% / 52% 66% 34% 48%; }
  38%      { border-radius: 43% 57% 44% 56% / 60% 42% 58% 40%; }
  62%      { border-radius: 58% 42% 66% 34% / 38% 58% 42% 62%; }
  84%      { border-radius: 48% 52% 41% 59% / 56% 45% 55% 44%; }
}

@keyframes contactBlobWobble {
  0%, 100% { transform: rotate(0deg) scale(1); }
  33%      { transform: rotate(1.1deg) scale(1.04, 0.985); }
  66%      { transform: rotate(-1.0deg) scale(0.985, 1.05); }
}

@keyframes contactInkJiggle {
  0%, 100% { transform: translate3d(calc(var(--mx) * 0.05), calc(var(--my) * 0.05), 0) scale(1); }
  35%      { transform: translate3d(calc(var(--mx) * 0.06), calc(var(--my) * 0.04), 0) scale(1.015, 0.995); }
  70%      { transform: translate3d(calc(var(--mx) * 0.04), calc(var(--my) * 0.06), 0) scale(0.995, 1.02); }
}

@media (prefers-reduced-motion: reduce) {
  .contact-tile__plate,
  .contact-tile__plate::before,
  .contact-tile__plate::after,
  .contact-tile__blobCenter,
  .contact-tile__blobTilt {
    transition: none !important;
    animation: none !important;
  }
  .contact-tile__blob,
  .contact-tile__blobLabel {
    animation: none !important;
  }
}
